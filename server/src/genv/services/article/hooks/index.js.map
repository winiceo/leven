{"version":3,"sources":["services/article/hooks/index.js"],"names":[],"mappings":"AAAA;;AAEA,MAAM,cAAc,QAAQ,gBAAR,CAApB;AACA,MAAM,QAAQ,QAAQ,gBAAR,CAAd;AACA,MAAM,OAAO,QAAQ,yBAAR,EAAmC,KAAhD;;AAEA,QAAQ,MAAR,GAAiB;AACf,OAAK,CACH,KAAK,WAAL,EADG,EAEH,KAAK,YAAL,EAFG,EAGH,KAAK,uBAAL,EAHG,CADU;AAMf,QAAM,CAAC,UAAS,IAAT,EAAc;;AAEnB,UAAM,QAAQ,KAAK,MAAL,CAAY,KAA1B;AACA,YAAQ,GAAR,CAAY,KAAZ;AACA,YAAQ,GAAR,CAAY,KAAK,MAAjB;AACA,YAAQ,GAAR,CAAY,KAAK,MAAL,CAAY,IAAZ,CAAiB,GAA7B;;AAEA;AACA,UAAM,OAAN,GAAgB,KAAK,MAAL,CAAY,IAAZ,CAAiB,GAAjC;AAGD,GAXK,CANS;AAkBf,OAAK,EAlBU;AAmBf,UAAQ,EAnBO;AAoBf,UAAQ,EApBO;AAqBf,SAAO,EArBQ;AAsBf,UAAQ;AAtBO,CAAjB;;AAyBA,QAAQ,KAAR,GAAgB;AACd,OAAK,EADS;AAEd,QAAM,EAFQ;AAGd,OAAK,EAHS;AAId,UAAQ,EAJM;AAKd,UAAQ,EALM;AAMd,SAAO,EANO;AAOd,UAAQ;AAPM,CAAhB","file":"services/article/hooks/index.js","sourcesContent":["'use strict';\n\nconst globalHooks = require('../../../hooks');\nconst hooks = require('feathers-hooks');\nconst auth = require('feathers-authentication').hooks;\n\nexports.before = {\n  all: [\n    auth.verifyToken(),\n    auth.populateUser(),\n    auth.restrictToAuthenticated()\n  ],\n  find: [function(hook){\n\n    const query = hook.params.query;\n    console.log(query)\n    console.log(hook.params)\n    console.log(hook.params.user._id)\n\n    // Limit the entire query to the current user\n    query.user_id = hook.params.user._id;\n\n\n  }],\n  get: [],\n  create: [],\n  update: [],\n  patch: [],\n  remove: []\n};\n\nexports.after = {\n  all: [],\n  find: [],\n  get: [],\n  create: [],\n  update: [],\n  patch: [],\n  remove: []\n};\n"],"sourceRoot":"/deploy/kevio/kevio/es6"}