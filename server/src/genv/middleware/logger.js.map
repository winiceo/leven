{"version":3,"sources":["middleware/logger.js"],"names":[],"mappings":"AAAA;;AAEA,MAAM,UAAU,QAAQ,SAAR,CAAhB;;AAEA,OAAO,OAAP,GAAiB,UAAS,GAAT,EAAc;AAC7B;AACA,MAAI,MAAJ,GAAa,OAAb;;AAEA,SAAO,UAAS,KAAT,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,IAA1B,EAAgC;AACrC,QAAI,KAAJ,EAAW;AACT,YAAM,UAAW,IAAE,MAAM,IAAN,GAAc,KAAG,MAAM,IAAK,KAA5B,GAAkC,EAAI,YAAS,IAAI,GAAI,QAAK,MAAM,OAAQ,GAA7F;;AAEA,UAAI,MAAM,IAAN,KAAe,GAAnB,EAAwB;AACtB,gBAAQ,IAAR,CAAa,OAAb;AACD,OAFD,MAGK;AACH,gBAAQ,KAAR,CAAc,OAAd;AACA,gBAAQ,IAAR,CAAa,MAAM,KAAnB;AACD;AACF;;AAED,SAAK,KAAL;AACD,GAdD;AAeD,CAnBD","file":"middleware/logger.js","sourcesContent":["'use strict';\n\nconst winston = require('winston');\n\nmodule.exports = function(app) {\n  // Add a logger to our app object for convenience\n  app.logger = winston;\n\n  return function(error, req, res, next) {\n    if (error) {\n      const message = `${error.code ? `(${error.code}) ` : '' }Route: ${req.url} - ${error.message}`;\n      \n      if (error.code === 404) {\n        winston.info(message);\n      }\n      else {\n        winston.error(message);\n        winston.info(error.stack);\n      }\n    }\n\n    next(error);\n  };\n};\n"],"sourceRoot":"/deploy/kevio/kevio/es6"}